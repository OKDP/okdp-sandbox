ğŸ” cert-issuers Chart v{{ .Chart.Version }} has been deployed!

{{- if .Values.caClusterIssuers }}

ğŸ“œ CA-based ClusterIssuers created:
{{- range .Values.caClusterIssuers }}
  â€¢ {{ .name }}
    - ClusterIssuer: {{ .name }}
    {{- if .ca_key }}
    - Secret with CA cert and key: {{ .name }}
    {{- end }}
    {{- if .ca_crt }}
    - Public CA secret: {{ .name }}-ca
    {{- end }}
{{- end }}
{{- end }}

{{- if .Values.selfSignedClusterIssuers }}

ğŸ” Self-signed ClusterIssuers created:
{{- range .Values.selfSignedClusterIssuers }}
  â€¢ {{ .name }}
    - Bootstrap ClusterIssuer: {{ .name }}-self
    - CA Certificate: {{ .name }}
    - Final ClusterIssuer: {{ .name }}
{{- end }}
{{- end }}

{{- if .Values.bundle.enabled }}

ğŸ“¦ Trust Bundle configuration:
  â€¢ Bundle name: {{ .Values.bundle.name }}
  {{- if .Values.bundle.target.configMap.enabled }}
  â€¢ ConfigMap target: {{ .Values.bundle.name }} (key: {{ .Values.bundle.target.configMap.key }})
  {{- end }}
  {{- if .Values.bundle.target.secret.enabled }}
  â€¢ Secret target: {{ .Values.bundle.name }} (key: {{ .Values.bundle.target.secret.key }})
  {{- end }}
{{- end }}

ğŸ” To verify your ClusterIssuers:
  kubectl get clusterissuers

ğŸ“‹ To check certificate status:
  kubectl get certificates -n {{ include "cert-issuers.certificateNamespace" . }}

{{- if .Values.replication.enabled }}

ğŸ”„ Certificate replication is enabled using {{ .Values.replication.method }}
   Certificates will be replicated to namespaces matching: {{ .Values.replication.allowedNamespaces }}
{{- end }}

ğŸ“š For more information on using cert-manager:
  https://cert-manager.io/docs/

âš ï¸  Security Note:
{{- if .Values.caClusterIssuers }}
{{- $hasPrivateKeys := false }}
{{- range .Values.caClusterIssuers }}
{{- if .ca_key }}
{{- $hasPrivateKeys = true }}
{{- end }}
{{- end }}
{{- if $hasPrivateKeys }}
  Private keys are stored in this configuration. Consider using external secret management
  for production environments.
{{- end }}
{{- end }} 